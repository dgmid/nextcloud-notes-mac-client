{"version":3,"names":[],"mappings":"","sources":["menu-notes.js"],"sourcesContent":["'use strict'\n\nconst {\n\tapp,\n\tBrowserWindow,\n\tMenu,\n\tMenuItem,\n\tipcMain\n} = require( 'electron' )\nconst log\t= require( 'electron-log' )\nconst Store = require( 'electron-store' )\nconst store = new Store()\n\n\nmodule.exports.createMenu = function ( winId ) {\n\n\tlet i18n = require('./i18n.min')\n\t\n\tlet notesMenuTemplate\n\t\n\tipcMain.on('show-notes-menu', ( event, message ) => {\n\t\t\n\t\tif( message.preview ) {\n\t\t\t\n\t\t\tnotesMenuTemplate = [\n\t\t\t\t\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:edit.copy', 'Copy'),\n\t\t\t\t\trole: 'copy'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:edit.selectall', 'Select All'),\n\t\t\t\t\taccelerator: 'Cmd+a',\n\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('note', 'selectall') }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:note.print', 'Printâ€¦'),\n\t\t\t\t\taccelerator: 'Cmd+p',\n\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('note', 'print') }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('notecontextmenu:speech.speech', 'Speech'),\n\t\t\t\t\tsubmenu: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:speech.start', 'Start Speaking'),\n\t\t\t\t\t\t\trole: 'startSpeaking'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:speech.stop', 'Stop Speaking'),\n\t\t\t\t\t\t\trole: 'stopSpeaking'\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t\t\n\t\t} else {\n\t\t\t\n\t\t\tlet enable = (message.selection.length === 0 ) ? false : true\n\t\t\t\n\t\t\tnotesMenuTemplate = [\n\t\t\t\t\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:edit.cut', 'Cut'),\n\t\t\t\t\trole: 'cut'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:edit.copy', 'Copy'),\n\t\t\t\t\trole: 'copy'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:edit.paste', 'Paste'),\n\t\t\t\t\trole: 'paste'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:edit.delete', 'Delete'),\n\t\t\t\t\trole: 'delete'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('menu:edit.selectall', 'Select All'),\n\t\t\t\t\taccelerator: 'Cmd+a',\n\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('note', 'selectall') }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('notecontextmenu:paragraph', 'Paragraph Styles'),\n\t\t\t\t\tsubmenu: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('menu:markdown.bold', 'Bold'),\n\t\t\t\t\t\t\taccelerator: 'Cmd+b',\n\t\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'b') }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('menu:markdown.italic', 'Italic'),\n\t\t\t\t\t\t\taccelerator: 'Cmd+i',\n\t\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'i') }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('menu:markdown.strike', 'Strikethrough'),\n\t\t\t\t\t\t\taccelerator: 'Cmd+Shift+d',\n\t\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'del') }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttype: 'separator'\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('menu:markdown.ul', 'Unordered List'),\n\t\t\t\t\t\t\taccelerator: 'Cmd+l',\n\t\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'ul') }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('menu:markdown.ol', 'Ordered List'),\n\t\t\t\t\t\t\taccelerator: 'Cmd+Alt+l',\n\t\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'ol') }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('menu:markdown.cl', 'Checkbox List'),\n\t\t\t\t\t\t\taccelerator: 'Cmd+Alt+Shift+l',\n\t\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('markdown', 'cl') }\n\t\t\t\t\t\t},\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttype: 'separator'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('notecontextmenu:entities.entities', 'Encode / Decode Entites'),\n\t\t\t\t\tsubmenu: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:entities.encode', 'Encode Entities'),\n\t\t\t\t\t\t\tenabled: enable,\n\t\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('context-note-encode', message.selection) }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:entities.decode', 'Decode Entities'),\n\t\t\t\t\t\t\tenabled: enable,\n\t\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('context-note-decode', message.selection) }\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: i18n.t('notecontextmenu:transformations.transformations', 'Transformations'),\n\t\t\t\t\tsubmenu: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:transformations.upper', 'Make Uppercase'),\n\t\t\t\t\t\t\tenabled: enable,\n\t\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('context-note-upper', message.selection) }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:transformations.lower', 'Make Lowercase'),\n\t\t\t\t\t\t\tenabled: enable,\n\t\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('context-note-lower', message.selection) }\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: i18n.t('notecontextmenu:transformations.caps', 'Capitalize'),\n\t\t\t\t\t\t\tenabled: enable,\n\t\t\t\t\t\t\tclick (item, focusedWindow) { if(focusedWindow) focusedWindow.webContents.send('context-note-caps', message.selection) }\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t\t\n\t\tconst notesMenu = Menu.buildFromTemplate( notesMenuTemplate )\n\t\t\n\t\tconst win = BrowserWindow.fromWebContents( winId )\n\t\tnotesMenu.popup( win )\n\t})\n}\n"],"file":"../menu-notes.min.js"}